---
title: "Temperatura JP x CG"
output:
    html_document:
    df_print: paged
theme: sandstone
---

```{r echo=FALSE, message=FALSE, warning=FALSE}
library(tidyverse)
library(here)
library(lubridate)
library(ggbeeswarm)
theme_set(theme_bw())
```

```{r read}
climas = read_csv(here::here("data/clima_cg_jp-semanal.csv"), 
                  col_types = "cTdddddd")

glimpse(climas)
```

## Temperatura

### Onde é mais quente?


### As temperaturas máximas semanais (o pico do calor) são tão diferentes quanto as médias? Mais?  


### Quais os meses mais quentes e mais frios?

cg_max <- filter(clima_cg_jp.semanal, cidade == "Campina Grande")
cg_max <- select(cg_max, tmax, semana, mes, ano, cidade)
cg_max <- group_by(cg_max, mes,ano)
cg_max <- arrange(cg_max, mes, ano)
cg_max <- summarise(cg_max, maximas = max(tmax))

 ggplot(data = cg_max, mapping = aes(x = mes , y = maximas, color = as.factor(ano) )) + 
  geom_point() +
  scale_x_continuous(breaks = seq(1,12,1)) +
  scale_y_continuous(breaks = seq(15,40,1)) +
  theme(axis.text.x = element_text(angle = 90)) +
  labs(title = "Variação da temperatura máxima por mês (CG)")
  

jp_max <- filter(clima_cg_jp.semanal, cidade == "João Pessoa")
jp_max <- select(jp_max, tmax, semana, mes, ano, cidade)
jp_max <- group_by(jp_max, mes,ano)
jp_max <- arrange(jp_max, mes, ano)
jp_max <- summarise(jp_max, maximas = max(tmax))

 ggplot(data = jp_max, mapping = aes(x = mes , y = maximas, color = as.factor(ano) )) + 
  geom_point() +
  scale_x_continuous(breaks = seq(1,12,1)) +
  scale_y_continuous(breaks = seq(15,40,1)) +
  theme(axis.text.x = element_text(angle = 90)) +
  labs(title = "Variação da temperatura máxima por mês (JP)")

### Qual foi o São João  mais frio de CG que está nos nossos dados?

Vamos considerar as temperaturas máximas por ano no mês de junho


'''{r}

cg_mais_frio_max <- filter(clima_cg_jp.semanal, cidade == "Campina Grande", mes == 6)
cg_mais_frio_max <- select(cg_mais_frio_max, tmax, semana, mes, ano, cidade)
cg_mais_frio_max <- group_by(cg_mais_frio_max, ano)
cg_mais_frio_max <- arrange(cg_mais_frio_max, ano)
cg_mais_frio_max <- summarise(cg_mais_frio_max, maximas = max(tmax))

  ggplot(data = cg_mais_frio_max, mapping = aes(x = ano, y = maximas)) + 
  geom_point() +
  scale_x_continuous(breaks = seq(1995,2018,1)) +
  scale_y_continuous(breaks = seq(15,40,0.1)) +
  theme(axis.text.x = element_text(angle = 90)) +
  labs(title = "Variação da temperatura máxima por ano no mês de junho") 

'''

Vamos considerar as temperaturas mínimas por ano no mês de junho


'''{r}

cg_mais_frio_min <- filter(clima_cg_jp.semanal, cidade == "Campina Grande", mes == 6)
cg_mais_frio_min <- select(cg_mais_frio_min, tmin, semana, mes, ano, cidade)
cg_mais_frio_min <- group_by(cg_mais_frio_min, ano)
cg_mais_frio_min <- arrange(cg_mais_frio_min, ano)
cg_mais_frio_min <- summarise(cg_mais_frio_min, minimas = max(tmin))

  ggplot(data = cg_mais_frio_min, mapping = aes(x = ano, y = minimas)) + 
  geom_point() +
  scale_x_continuous(breaks = seq(1995,2018,1)) +
  scale_y_continuous(breaks = seq(15,40,0.1)) +
  theme(axis.text.x = element_text(angle = 90)) +
  labs(title = "Variação da temperatura mínima por ano no mês de junho") 

'''

## Chuva

### Quanto chove por semana em JP e CG?

Como é a distribuição do volume de chuvas por semana em JP e CG? A chuva varia mais ou menos que a temperatura? O formato da distribuição é igual? 

### No geral, onde chove mais?

<!-- cg_mais_frio <- filter(clima_cg_jp.semanal, cidade == "Campina Grande") -->
<!-- cg_mais_frio <- select(cg_mais_frio, chuva, semana, mes, ano, cidade) -->
<!-- cg_mais_frio <- arrange(cg_mais_frio, semana) -->
<!-- cg_mais_frio <- group_by(cg_mais_frio, cidade, ano, mes) -->
<!-- cg_mais_frio <- summarise(cg_mais_frio, mais_chuva = max(chuva)) -->

<!--     arrange(cg_mais_frio, ) -->


<!--     ggplot(mapping = aes(x = cidade, y = mais_chuva)) +  -->
<!--     geom_col() -->

### A distribuição é diferente em meses específicos? 

#teste

